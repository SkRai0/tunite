(this.webpackJsonptunite=this.webpackJsonptunite||[]).push([[0],{18:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(12),i=n.n(c),s=n(4),o=n.n(s),u=n(6),b=n(3),l=n(8),j=(n(18),n(0)),d=function(e){var t=e.currentSong;return Object(j.jsxs)("div",{className:"song-details",children:[Object(j.jsx)("img",{alt:t.name,src:t.cover}),Object(j.jsx)("h2",{children:t.name}),Object(j.jsx)("h3",{children:t.artist})]})},f=n(7),g=n(5),p=function(e){var t=e.setSongs,n=e.setCurrentSong,r=e.songs,c=e.currentSong,i=e.isPlaying,s=e.setIsPlaying,l=e.audioRef,d=e.setSongInfo,p=e.songInfo;Object(a.useEffect)((function(){var e=r.map((function(e){return e.id===c.id?Object(b.a)(Object(b.a)({},e),{},{active:!0}):Object(b.a)(Object(b.a)({},e),{},{active:!1})}));t(e)}),[c]);var O=function(e){return Math.floor(e/60)+":"+("0"+Math.floor(e%60)).slice(-2)},h=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.findIndex((function(e){return e.id===c.id})),"next"!==t){e.next=4;break}return e.next=4,n(r[(a+1)%r.length]);case 4:if("prev"!==t){e.next=12;break}if((a-1)%r.length!==-1){e.next=10;break}return e.next=8,n(r[r.length-1]);case 8:return i&&l.current.play(),e.abrupt("return");case 10:return e.next=12,n(r[(a-1)%r.length]);case 12:i&&l.current.play();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"player",children:[Object(j.jsxs)("div",{className:"time-controller",children:[Object(j.jsx)("p",{children:O(p.currentTime)}),Object(j.jsx)("input",{onChange:function(e){l.current.currentTime=e.target.value,d(Object(b.a)(Object(b.a)({},p),{},{currentTime:e.target.value}))},min:0,max:p.duration,value:p.currentTime,type:"range",name:"song-timing"}),Object(j.jsx)("p",{children:O(p.duration||0)})]}),Object(j.jsxs)("div",{className:"play-controller",children:[Object(j.jsx)(f.a,{onClick:function(){return h("prev")},name:"prev",size:"2x",icon:g.a}),Object(j.jsx)(f.a,{onClick:function(){i?(l.current.pause(),s(!i)):(l.current.play(),s(!i))},name:"play",size:"2x",icon:i?g.d:g.e}),Object(j.jsx)(f.a,{onClick:function(){return h("next")},name:"next",size:"2x",icon:g.b})]})]})},O=n(27),h=function(){return[{name:"Payphone",cover:"https://firebasestorage.googleapis.com/v0/b/tunite-79921.appspot.com/o/Payphone-Icon.jfif?alt=media&token=740541e6-0284-400c-8e57-e3ffd0af79e9",artist:"Maroon 5",audio:"https://firebasestorage.googleapis.com/v0/b/tunite-79921.appspot.com/o/Payphone.mp3?alt=media&token=7f6d8e99-5543-4725-b460-d79752888512",id:Object(O.a)(),active:!0,color:["#770F9C","#EC4EB0"]},{name:"Call You Mine",cover:"https://firebasestorage.googleapis.com/v0/b/tunite-79921.appspot.com/o/The_Chainsmokers_-_Call_You_Mine.png?alt=media&token=17421fe8-1de2-4c43-9a0a-bbe41cb8cb3c",artist:"Chainsmokers, Babe Rexha",audio:"https://firebasestorage.googleapis.com/v0/b/tunite-79921.appspot.com/o/The-Chainsmokers-Call-You-Mine-Official-Video-ft.-Bebe-Rexha.mp3?alt=media&token=cbf809b5-e966-44a9-92b5-df4cca556f2f",id:Object(O.a)(),active:!1,color:["#2A2945","#ECCD91"]}]},m=function(e){var t=e.id,n=e.setCurrentSong,a=e.song,r=e.audioRef,c=e.isPlaying,i=e.songs,s=e.setSongs,l=function(){var e=Object(u.a)(o.a.mark((function e(){var u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(a);case 2:u=i.map((function(e){return e.id===t?Object(b.a)(Object(b.a)({},e),{},{active:!0}):Object(b.a)(Object(b.a)({},e),{},{active:!1})})),s(u),c&&r.current.play();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{onClick:l,className:"library-song ".concat(a.active?"selected":""),children:[Object(j.jsx)("img",{alt:a.name,src:a.cover}),Object(j.jsxs)("div",{className:"song-info",children:[Object(j.jsx)("h3",{children:a.name}),Object(j.jsx)("h4",{children:a.artist})]})]})},x=function(e){var t=e.libVis,n=(e.setLibVis,e.setCurrentSong),a=e.songs,r=e.audioRef,c=e.isPlaying,i=e.setSongs;return Object(j.jsxs)("div",{className:"library ".concat(t?"visible":""),children:[Object(j.jsx)("h2",{children:"Library"}),Object(j.jsx)("div",{className:"library-songs",children:a.map((function(e){return Object(j.jsx)(m,{id:e.id,songs:a,setSongs:i,isPlaying:c,audioRef:r,setCurrentSong:n,song:e},e.id)}))})]})},v=function(e){var t=e.libVis,n=e.setLibVis;return Object(j.jsxs)("div",{className:"nav",children:[Object(j.jsx)("h2",{children:"Tunite"}),Object(j.jsxs)("button",{onClick:function(){return n(!t)},children:["Library",Object(j.jsx)(f.a,{icon:g.c})]})]})};var y=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(h()),s=Object(l.a)(i,2),f=s[0],g=s[1],O=Object(a.useState)(f[0]),m=Object(l.a)(O,2),y=m[0],C=m[1],S=Object(a.useState)(!1),k=Object(l.a)(S,2),P=k[0],T=k[1],I=Object(a.useState)({currentTime:0,duration:0}),N=Object(l.a)(I,2),L=N[0],R=N[1],V=function(e){var t=e.target.currentTime,n=e.target.duration;R(Object(b.a)(Object(b.a)({},L),{},{currentTime:t,duration:n}))},w=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.findIndex((function(e){return e.id===y.id})),t.next=3,C(f[(n+1)%f.length]);case 3:P&&e.current.play();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App ".concat(r?"library-active":""),children:[Object(j.jsx)(v,{libVis:r,setLibVis:c}),Object(j.jsx)(d,{currentSong:y}),Object(j.jsx)(p,{setSongs:g,setCurrentSong:C,songs:f,songInfo:L,setSongInfo:R,audioRef:e,isPlaying:P,setIsPlaying:T,currentSong:y}),Object(j.jsx)(x,{libVis:r,setLibVis:c,setSongs:g,isPlaying:P,audioRef:e,setCurrentSong:C,songs:f}),Object(j.jsx)("audio",{onEnded:w,onLoadedMetadata:V,onTimeUpdate:V,ref:e,src:y.audio})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),C()}},[[25,1,2]]]);
//# sourceMappingURL=main.b0552769.chunk.js.map